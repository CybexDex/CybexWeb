<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="format-detection" content="telephone=no" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; frame-src 'self' https://cybex.io/; script-src 'self' 'unsafe-eval' 'unsafe-inline' https://s23.cnzz.com/z_stat.php https://c.cnzz.com/core.php https://static.zdassets.com/ https://ekr.zdassets.com https://cdnjs.cloudflare.com/ajax/libs/ https://v2.zopim.com/ https://www.googletagmanager.com/ https://www.google-analytics.com/; style-src 'self' 'unsafe-inline'; connect-src 'self' wss://*.51nebula.com/ wss://*.cybex.io *; font-src 'self' data: https://v2.zopim.com/ https://fonts.gstatic.com/; img-src 'self' data: blob: https://z5.cnzz.com/stat.htm https://cnzz.mmstat.com/9.gif https://static-assets.51nebula.com/ https://ieo-apitest.nbltrust.com/ https://v2.zopim.com/ https://ieo.oss-cn-hangzhou.aliyuncs.com/ https://ieo-test.oss-cn-hangzhou.aliyuncs.com/ https://www.google-analytics.com/ https://stats.g.doubleclick.net/ https://stats.g.doubleclick.net/ https://cybex-assets.oss-cn-hangzhou.aliyuncs.com/;"
    />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Cybex DEX</title>
    <meta
      name="description"
      content="CYBEX: a decentralized crypto-asset exchange. A future exchange system based on the Graphene Blockchain"
    />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <base href="/" />
    <style>
      [title="站长统计"] {
        display: none;
      }
    </style>
    <style>
      body {
        background-color: #232c36 !important;
      }

      #load {
        position: absolute;
        width: 600px;
        height: 36px;
        left: 50%;
        top: 40%;
        margin-left: -300px;
        overflow: visible;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: default;
      }

      #load div {
        position: absolute;
        width: 20px;
        height: 36px;
        opacity: 0;
        font-family: Helvetica, Arial, sans-serif;
        animation: move 2s linear infinite;
        -o-animation: move 2s linear infinite;
        -moz-animation: move 2s linear infinite;
        -webkit-animation: move 2s linear infinite;
        transform: rotate(180deg);
        -o-transform: rotate(180deg);
        -moz-transform: rotate(180deg);
        -webkit-transform: rotate(180deg);
        color: #35c4f0;
        font-size: 24px;
      }

      #load div:nth-child(2) {
        animation-delay: 0.2s;
        -o-animation-delay: 0.2s;
        -moz-animation-delay: 0.2s;
        -webkit-animation-delay: 0.2s;
      }

      #load div:nth-child(3) {
        animation-delay: 0.4s;
        -o-animation-delay: 0.4s;
        -webkit-animation-delay: 0.4s;
        -webkit-animation-delay: 0.4s;
      }

      #load div:nth-child(4) {
        animation-delay: 0.6s;
        -o-animation-delay: 0.6s;
        -moz-animation-delay: 0.6s;
        -webkit-animation-delay: 0.6s;
      }

      #load div:nth-child(5) {
        animation-delay: 0.8s;
        -o-animation-delay: 0.8s;
        -moz-animation-delay: 0.8s;
        -webkit-animation-delay: 0.8s;
      }

      #load div:nth-child(6) {
        animation-delay: 1s;
        -o-animation-delay: 1s;
        -moz-animation-delay: 1s;
        -webkit-animation-delay: 1s;
      }

      #load div:nth-child(7) {
        animation-delay: 1.2s;
        -o-animation-delay: 1.2s;
        -moz-animation-delay: 1.2s;
        -webkit-animation-delay: 1.2s;
      }

      @keyframes move {
        0% {
          left: 0;
          opacity: 0;
          color: #35c4f0;
        }

        35% {
          left: 41%;
          -moz-transform: rotate(0deg);
          -webkit-transform: rotate(0deg);
          -o-transform: rotate(0deg);
          transform: rotate(0deg);
          opacity: 1;
          color: rgb(53, 128, 240);
        }

        65% {
          left: 59%;
          -moz-transform: rotate(0deg);
          -webkit-transform: rotate(0deg);
          -o-transform: rotate(0deg);
          transform: rotate(0deg);
          opacity: 1;
          color: rgb(150, 53, 240);
        }

        100% {
          left: 100%;
          -moz-transform: rotate(-180deg);
          -webkit-transform: rotate(-180deg);
          -o-transform: rotate(-180deg);
          transform: rotate(-180deg);
          opacity: 0;
          color: rgb(240, 53, 109);
        }
      }

      #globalLoading {
        position: fixed;
        z-index: 1;
        width: 100vw;
        height: 100vh;
        top: 0;
        left: 0;
        background-color: #232c36 !important;
      }

      #globalLoading.fade-out {
        opacity: 0;
        -webkit-transition: opacity 0.3s linear 0.2s;
        -moz-transition: opacity 0.3s linear 0.2s;
        transition: opacity 0.3s linear 0.2s;
      }
    </style>
    <!-- Google Analytics tracking code -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      type="text/javascript"
      src="https://s23.cnzz.com/z_stat.php?id=1277653896&web_id=1277653896"
    ></script>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-121047450-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      let gtag = (window.gtag = function() {
        dataLayer.push(arguments);
      });
      gtag("config", "UA-121047450-1", { app_name: "CybexDex" });
      gtag("config", "UA-121082216-1", { app_name: "CybexDex" });
      gtag("config", "UA-121050870-1", { app_name: "CybexDex" });
      gtag("config", "UA-133178744-1", { app_name: "CybexDex ETO" });
      gtag("js", new Date());
    </script>
    <!-- End Google Analytics tracking code -->
  </head>

  <body>
    <main id="content"></main>
    <div id="globalLoading">
      <div id="load">
        <div>G</div>
        <div>N</div>
        <div>I</div>
        <div>D</div>
        <div>A</div>
        <div>O</div>
        <div>L</div>
      </div>
    </div>
    <script>
      (function name(params) {
        if (/MicroMessenger/i.test(navigator.userAgent)) {
          document.getElementById("content").remove();
          document.getElementById("globalLoading").remove();
          document.body.innerHTML = `<div style="color: #eee;
                    text-align: center;
                    height: 100vh;
                    display: table-cell;
                    vertical-align: middle;
                    width: 100vw;">
                    <div style="    width: 16em;
                    height: 16em;
                    margin: auto;
                    line-height: 16em;
                    border-radius: 100%;
                    overflow: hidden;
                    background: #ddd;
                    box-shadow: 0 0 4px #fff;">
                        
                        <img src="/images/logo-main.png"/>
                        </div>
                    <p style="
                    font-size: 18px; margin-top: 2em">
                    请点击右上角菜单<br>选择<strong>在浏览器中打开</strong></p></div>`;
        }
      })();

      (function() {
        function replaceWithPrivacyTip(isPrivate) {
          if (!isPrivate) return;
          document.getElementById("content").remove();
          document.getElementById("globalLoading").remove();
          document.body.innerHTML = `<div style="color: #eee;
                          text-align: center;
                          height: 100vh;
                          display: table-cell;
                          vertical-align: middle;
                          width: 100vw;">
                          <div style="    width: 16em;
                          height: 16em;
                          margin: auto;
                          line-height: 16em;
                          border-radius: 100%;
                          overflow: hidden;
                          background: #ddd;
                          box-shadow: 0 0 4px #fff;">

                              <img src="/images/logo-main.png"/>
                              </div>
                          <p style="
                          font-size: 18px; margin-top: 2em">
                          无痕/隐私模式下可能导致交易所功能异常<br>请退出隐私/无痕模式后重试</p></div>`;
        }
        function detectInChrome(resolve, reject, callback) {
          window.webkitRequestFileSystem(
            window.TEMPORARY,
            1,
            function() {
              callback(false);
              resolve(false);
            },
            function(e) {
              callback(true);
              resolve(true);
            }
          );
        }

        function detectInFirefox(resolve, reject, callback) {
          var db;
          try {
            db = window.indexedDB.open("test");
          } catch (e) {
            callback(true);
            resolve(true);
          }
          db.onerror = function() {
            callback(true);
            resolve(true);
          };
          db.onsuccess = function() {
            callback(false);
            resolve(false);
          };
        }

        function detectInIEAndEdge(resolve, reject, callback) {
          var is_private;

          try {
            if (!window.indexedDB) {
              is_private = true;
              setTimeout(function() {
                callback(true);
                resolve(true);
              }, 0);
            }
          } catch (e) {
            is_private = true;
            setTimeout(function() {
              callback(true);
              resolve(true);
            }, 0);
          }

          if (typeof is_private === "undefined") {
            setTimeout(function() {
              callback(false);
              resolve(false);
            }, 0);
          }
        }

        function detectInSafari(resolve, reject, callback) {
          var is_private;
          try {
            window.localStorage.setItem("test", 1);
          } catch (e) {
            is_private = true;
            callback(true);
            resolve(true);
          }
          // iOS >= 11
          try {
            window.openDatabase(null, null, null, null);
          } catch (e) {
            is_private = true;
            callback(true);
            resolve(true);
          }

          if (typeof is_private === "undefined") {
            window.localStorage.removeItem("test");
            callback(false);
            resolve(false);
          }
        }

        (function(callback) {
          var ua = window.navigator.userAgent,
            ua_lc = ua.toLowerCase();

          callback = callback || function() {};

          return new Promise(function(resolve, reject) {
            // @Chrome
            if (window.webkitRequestFileSystem) {
              detectInChrome(resolve, reject, callback);
            }
            // @Firefox
            else if (window.indexedDB && /Firefox/.test(ua)) {
              detectInFirefox(resolve, reject, callback);
            }
            // @Internet Explorer / Edge
            else if (/msie|trident/i.test(ua_lc) || /edge/i.test(ua_lc)) {
              detectInIEAndEdge(resolve, reject, callback);
            }
            // @Safari
            else if (window.localStorage && /Safari/.test(ua)) {
              detectInSafari(resolve, reject, callback);
            }
          });
        })().then(replaceWithPrivacyTip);
      })();
    </script>
  </body>
</html>
